<!DOCTYPE html>
<html>
<head>
  <title>Dynamic Image Loading</title>
</head>
<body>
  <div id="pic"></div>

  <script>
    const searchParams = new URLSearchParams(window.location.search);
    const id = searchParams.get("id");
    const fileExtension = searchParams.get("extension");

    const pathnameArray = window.location.pathname.split("/");
    const fileName = pathnameArray[pathnameArray.length - 1].replace(/\.[^/.]+$/, "");

    const picElement = document.getElementById("pic");

    const imageExtensions = [".jpg", ".png", ".jpeg"];
    const imageSources = imageExtensions.map(extension => {
      return `<source srcset="${fileName}${extension}" type="image/${extension.substr(1)}">`;
    }).join("");

    const imageElement = `<img src="${fileName}${fileExtension}" alt="Dynamic Image" >`;

    picElement.innerHTML = `${imageSources}${imageElement}`;
  </script>
</body>
</html>