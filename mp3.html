<html>
<head>
<title>MP3 Player</title>
</head>
<body>
<h1>MP3 Player</h1>

<div id="player"></div>

<script>
    window.onload = function() {
        var playerDiv = document.getElementById("player");

        // 获取 picture 文件夹内的所有 MP3 文件
        fetch('picture/')
            .then(response => response.text())
            .then(data => {
                var mp3Files = data.split("\n").filter(file => file.endsWith(".mp3"));

                // 创建播放器列表
                var playlist = document.createElement("ul");
                mp3Files.forEach(function(file) {
                    var listItem = document.createElement("li");
                    var link = document.createElement("a");
                    link.setAttribute("href", "picture/" + file);
                    link.innerHTML = file;
                    listItem.appendChild(link);
                    playlist.appendChild(listItem);
                });

                playerDiv.appendChild(playlist);

                // 点击链接时播放对应的 MP3 文件
                playlist.addEventListener("click", function(event) {
                    event.preventDefault();
                    var target = event.target;
                    if (target.tagName === "A") {
                        var audioPlayer = new Audio(target.getAttribute("href"));
                        audioPlayer.play();
                    }
                });
            });
    };
</script>
</body>
</html>